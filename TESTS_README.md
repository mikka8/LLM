# üß™ –¢–µ—Å—Ç—ã –¥–ª—è AI Translator & Critic

–ü–æ–ª–Ω—ã–π –æ–±–∑–æ—Ä –≤—Å–µ—Ö –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞.

---

## üìä –ß—Ç–æ –ø–æ–∫—Ä—ã—Ç–æ —Ç–µ—Å—Ç–∞–º–∏

| –¢–∏–ø —Ç–µ—Å—Ç–æ–≤ | –§–∞–π–ª | –§—Ä–µ–π–º–≤–æ—Ä–∫ | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ | –°—Ç–∞—Ç—É—Å |
|-----------|------|-----------|-----------|--------|
| **Unit** | `tests/unit/test_app.py` | pytest | 4 —Ç–µ—Å—Ç–∞ | ‚úÖ |
| **Security** | `tests/unit/test_app_security.py` | pytest | 11 —Ç–µ—Å—Ç–æ–≤ | ‚úÖ |
| **UI (E2E)** | `tests/ui/cypress/e2e/*.cy.js` | Cypress | 7 —Ç–µ—Å—Ç–æ–≤ | ‚úÖ |
| **–ò–¢–û–ì–û** | ‚Äî | ‚Äî | **22 —Ç–µ—Å—Ç–∞** | ‚úÖ |

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫

### –í—Å–µ —Ç–µ—Å—Ç—ã –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π:

1. Unit + Security —Ç–µ—Å—Ç—ã
pytest tests/unit/ -v

2. UI —Ç–µ—Å—Ç—ã (—Ç—Ä–µ–±—É–µ—Ç –∑–∞–ø—É—â–µ–Ω–Ω–æ–≥–æ Flask)
–¢–µ—Ä–º–∏–Ω–∞–ª 1:
python src/app.py

–¢–µ—Ä–º–∏–Ω–∞–ª 2:
npm run cypress:run:linux

---

## 1Ô∏è‚É£ Unit —Ç–µ—Å—Ç—ã (Python)

### –û–ø–∏—Å–∞–Ω–∏–µ
–¢–µ—Å—Ç–∏—Ä—É—é—Ç —Ñ—É–Ω–∫—Ü–∏—é `call_llm()` —Å –º–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ–º API –∑–∞–ø—Ä–æ—Å–æ–≤.

### –ó–∞–ø—É—Å–∫
pytest tests/unit/test_app.py -v

### –ß—Ç–æ –ø–æ–∫—Ä—ã—Ç–æ
- ‚úÖ –£—Å–ø–µ—à–Ω—ã–π –≤—ã–∑–æ–≤ API (200 OK)
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è (MENTORPIECE_API_KEY)
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–µ—Ç–µ–≤—ã—Ö –æ—à–∏–±–æ–∫ (RequestException)
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ HTTP –æ—à–∏–±–æ–∫ (500)

**–î–µ—Ç–∞–ª–∏:** –°–º. –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ `tests/unit/test_app.py`

---

## 2Ô∏è‚É£ Security —Ç–µ—Å—Ç—ã (Python)

### –û–ø–∏—Å–∞–Ω–∏–µ
–ü—Ä–æ–≤–µ—Ä—è—é—Ç –∑–∞—â–∏—Ç—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –æ—Ç —Ç–∏–ø–∏—á–Ω—ã—Ö –∞—Ç–∞–∫ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å LLM.

### –ó–∞–ø—É—Å–∫
pytest tests/unit/test_app_security.py -v


### –ß—Ç–æ –ø–æ–∫—Ä—ã—Ç–æ

#### Prompt Injection (2 —Ç–µ—Å—Ç–∞)
- ‚úÖ API –∫–ª—é—á –Ω–µ –ø–æ–ø–∞–¥–∞–µ—Ç –≤ —Ç–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ –∫ LLM
- ‚úÖ –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –≤–µ–∫—Ç–æ—Ä—ã –∞—Ç–∞–∫ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –±–µ–∑–æ–ø–∞—Å–Ω–æ

#### Log Injection (3 —Ç–µ—Å—Ç–∞)
- ‚úÖ API –∫–ª—é—á –Ω–µ –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ —É—Å–ø–µ—Ö–µ
- ‚úÖ API –∫–ª—é—á –Ω–µ –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- ‚úÖ API –∫–ª—é—á –Ω–µ –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è—Ö

#### Input Validation (3 —Ç–µ—Å—Ç–∞)
- ‚úÖ –û—á–µ–Ω—å –¥–ª–∏–Ω–Ω—ã–π –≤–≤–æ–¥ (100k —Å–∏–º–≤–æ–ª–æ–≤)
- ‚úÖ –°–ø–µ—Ü—Å–∏–º–≤–æ–ª—ã –∏ Unicode
- ‚úÖ –ü—É—Å—Ç–æ–π –∏ whitespace –≤–≤–æ–¥

#### API Response Validation (2 —Ç–µ—Å—Ç–∞)
- ‚úÖ –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–µ–µ –ø–æ–ª–µ 'response'
- ‚úÖ –ù–µ–≤–∞–ª–∏–¥–Ω—ã–π JSON

#### Performance (1 —Ç–µ—Å—Ç)
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–∞–π–º–∞—É—Ç–∞

**–î–µ—Ç–∞–ª–∏:** –°–º. `SECURITY_TESTS_README.md` –∏–ª–∏ `AQA_README.txt`

---

## 3Ô∏è‚É£ UI —Ç–µ—Å—Ç—ã (Cypress)

### –û–ø–∏—Å–∞–Ω–∏–µ
E2E —Ç–µ—Å—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ —Å –º–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ–º API.

### –ó–∞–ø—É—Å–∫
Headless (–¥–ª—è CI/CD):
npm run cypress:run:linux

–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏):
npm run cypress:open


### –ß—Ç–æ –ø–æ–∫—Ä—ã—Ç–æ

#### Success Scenarios (3 —Ç–µ—Å—Ç–∞)
- ‚úÖ –ü–µ—Ä–µ–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞ (–º–æ–¥–µ–ª—å Qwen)
- ‚úÖ –û—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ (–º–æ–¥–µ–ª—å Claude)
- ‚úÖ –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª (–æ–±–µ –º–æ–¥–µ–ª–∏)

#### Error Handling (2 —Ç–µ—Å—Ç–∞)
- ‚úÖ 500 –æ—à–∏–±–∫–∞ –ø—Ä–∏ –ø–µ—Ä–µ–≤–æ–¥–µ
- ‚úÖ –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ü–µ–Ω–∫–µ

#### UI & Validation (2 —Ç–µ—Å—Ç–∞)
- ‚úÖ –í–∏–¥–∏–º–æ—Å—Ç—å –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Ñ–æ—Ä–º—ã
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –ø—Ä–∏ —Å–º–µ–Ω–µ —è–∑—ã–∫–∞

**–î–µ—Ç–∞–ª–∏:** –°–º. `README_CYPRESS.md`

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
LLM/
‚îú‚îÄ‚îÄ src/
‚îÇ ‚îî‚îÄ‚îÄ app.py # Flask –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îú‚îÄ‚îÄ tests/
‚îÇ ‚îî‚îÄ‚îÄ unit/
‚îÇ ‚îú‚îÄ‚îÄ test_app.py # Unit —Ç–µ—Å—Ç—ã (4)
‚îÇ ‚îî‚îÄ‚îÄ test_app_security.py # Security —Ç–µ—Å—Ç—ã (11)
‚îî‚îÄ‚îÄ tests/ui/cypress/
‚îî‚îÄ‚îÄ e2e/
‚îú‚îÄ‚îÄ translator_critic.cy.js # UI —Ç–µ—Å—Ç—ã (3)
‚îî‚îÄ‚îÄ tests.cy.js # UI —Ç–µ—Å—Ç—ã (4)
```

---

## üîë –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### –ú–æ–∫–∏ (Mocks)
- **Unit/Security:** `unittest.mock.patch("requests.post")`
- **UI:** `cy.intercept('POST', API_ENDPOINT)`

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ù–µ —Ç—Ä–∞—Ç—è—Ç—Å—è —Ç–æ–∫–µ–Ω—ã API
- ‚úÖ –ë—ã—Å—Ç—Ä–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ (<3 —Å–µ–∫—É–Ω–¥—ã)
- ‚úÖ –ù–∞–¥—ë–∂–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
–í—Å–µ —Ç–µ—Å—Ç—ã —Å–æ–¥–µ—Ä–∂–∞—Ç –ø–æ–¥—Ä–æ–±–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö QA:
- –ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è
- –ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ
- –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –º–æ–∫
- –ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç –ø–∞–¥–µ–Ω–∏–µ —Ç–µ—Å—Ç–∞

---

## üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

| –î–æ–∫—É–º–µ–Ω—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|---------|
| `README_CYPRESS.md` | –ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ Cypress —Ç–µ—Å—Ç–∞–º |
| `CYPRESS_ARCHITECTURE.md` | ASCII –¥–∏–∞–≥—Ä–∞–º–º—ã –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã |
| `SECURITY_TESTS_README.md` | –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è security —Ç–µ—Å—Ç–æ–≤ |
| `AQA_README.txt` | –î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ security —Ç–µ—Å—Ç–∞ |

---

## üõ†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

Python
pip install -r requirements.txt
pip install pytest

Node.js
npm install

---

## üíª –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **Python:** 3.8+
- **Node.js:** 16+
- **npm:** 7+
- **Cypress:** 13.17.0
- **pytest:** 9.0.2

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π workflow

### –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ Flask: `python src/app.py`
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ Cypress: `npm run cypress:open`
3. –í–Ω–æ—Å–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è ‚Üí —Å–º–æ—Ç—Ä–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

### CI/CD
–®–∞–≥ 1: Unit + Security —Ç–µ—Å—Ç—ã
pytest tests/unit/ -q

–û–∂–∏–¥–∞–µ—Ç—Å—è: 15 passed
–®–∞–≥ 2: UI —Ç–µ—Å—Ç—ã
npm run cypress:run:linux

–û–∂–∏–¥–∞–µ—Ç—Å—è: 7 passing

---

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### Unit —Ç–µ—Å—Ç—ã –ø–∞–¥–∞—é—Ç

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–º–ø–æ—Ä—Ç—ã
pytest tests/unit/test_app.py -vv

–ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –¥–µ—Ç–∞–ª–∏ –æ—à–∏–±–∫–∏
pytest tests/unit/test_app.py --tb=long


### Cypress —Ç–µ—Å—Ç—ã –ø–∞–¥–∞—é—Ç
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Flask –∑–∞–ø—É—â–µ–Ω
curl http://localhost:5000

–ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤ headed —Ä–µ–∂–∏–º–µ
npm run cypress:run:headed

**–ë–æ–ª—å—à–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏:** –°–º. `README_CYPRESS.md` ‚Üí —Ä–∞–∑–¥–µ–ª "Troubleshooting"

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–∫—Ä—ã—Ç–∏—è

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | Unit | Security | UI |
|-----------|------|----------|-----|
| –§—É–Ω–∫—Ü–∏—è call_llm() | ‚úÖ | ‚úÖ | ‚ùå |
| API –º–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ | ‚úÖ | ‚úÖ | ‚úÖ |
| –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ | ‚úÖ | ‚úÖ | ‚úÖ |
| UI —ç–ª–µ–º–µ–Ω—Ç—ã | ‚ùå | ‚ùå | ‚úÖ |
| –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å | ‚ùå | ‚úÖ | ‚ùå |
| –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ | ‚ùå | ‚ùå | ‚úÖ |

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤—Å–µ —Ç–µ—Å—Ç—ã:**
pytest tests/unit/ -v
npm run cypress:run:linux

2. **–ò–∑—É—á–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é:**
- –î–ª—è Cypress: `README_CYPRESS.md`
- –î–ª—è Security: `SECURITY_TESTS_README.md`

3. **–î–æ–±–∞–≤—å—Ç–µ —Å–≤–æ–∏ —Ç–µ—Å—Ç—ã:**
- –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö
- –°–ª–µ–¥—É–π—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º –≤ –∫–æ–¥–µ

---

*–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: –î–µ–∫–∞–±—Ä—å 2025*